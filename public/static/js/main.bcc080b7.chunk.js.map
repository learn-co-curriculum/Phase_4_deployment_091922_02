{"version":3,"sources":["components/ProductionCard.js","components/ProductionContainer.js","components/Home.js","styled/Form.js","components/ProductionForm.js","components/EditProductionForm.js","components/Navigation.js","components/ProductionDetail.js","components/UserPage.js","components/Login.js","components/NotFound.js","App.js","index.js"],"names":["ProductionCard","production","title","budget","genre","image","id","console","log","Card","to","src","styled","li","ProductionContainer","productions","Title","CardContainer","map","h1","ul","Home","Image","img","attrs","Form","form","ProductionForm","addProduction","useState","director","description","formData","setFormData","errors","setErrors","handleChange","e","target","name","value","className","onSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","ongoing","then","res","ok","json","data","Object","entries","type","onChange","rows","cols","style","color","toUpperCase","EditProductionForm","updateProduction","useParams","useEffect","Navigation","updateUser","menu","setMenu","Nav","NavH1","Menu","onClick","size","div","ProductionDetail","deleteProduction","setProduction","loading","setLoading","params","history","useHistory","error","cast_members","CardDetail","crew","role","push","production_id","user_id","price","UserPage","user","setUser","tickets","ticket","Login","email","password","signup","setSignup","url","NotFound","App","setProductions","currentUser","setCurrentUser","fetchProductions","GlobalStyle","path","current","updatedProduction","filter","p","exact","createGlobalStyle","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bcc080b7.chunk.js","sourcesContent":["import {Link} from 'react-router-dom'\nimport styled from 'styled-components'\n\n\nfunction ProductionCard({production}) {\n    const {title, budget, genre, image, id} = production\n    console.log(production)\n    return (\n      <Card>\n      <div>\n      <Link to={`/productions/${id}`}> <h2>{title}</h2></Link>\n        <p>{genre}</p>\n        <p>$ {budget}</p>\n      </div>\n      <img src={image}/>\n      </Card>\n     \n    );\n  }\n  \n  export default ProductionCard\n\n\n  const Card = styled.li`\n    display:flex;\n    flex-direction:row;\n    justify-content:start;\n    font-family:Arial, sans-serif;\n    margin:10px;\n    &:hover {\n      transform: scale(1.15);\n      transform-origin: top left;\n    }\n    a{\n      text-decoration:none;\n      color:white;\n    }\n    img{\n      width: 180px;\n      margin-left:20%;\n      mask-image: linear-gradient(to left, rgba(0, 0, 0, .9) 80%, transparent 100%);\n    }\n    position:relative;\n    div{\n     position:absolute;\n    \n    }\n  `","import styled from 'styled-components'\nimport ProductionCard from './ProductionCard'\n\n\nfunction ProductionContainer({productions}) {\n\n    return (\n     <div>\n         <Title><span>F</span>latIron Theater <span>C</span>ompany</Title>\n         <CardContainer>\n             {productions.map(production => <ProductionCard  key={production.id} production={production}  />)}\n         </CardContainer>\n     </div>\n    );\n  }\n  \nexport default ProductionContainer\n\nconst Title = styled.h1`\n    text-transform: uppercase;\n    font-family:Arial, sans-serif;\n    width:70px;\n    font-size: 70px;\n    line-height: .8;\n   \n    transform: scale(.7, 1.4);\n    \n    span{\n        color:#42ddf5;\n    }\n`\n\n\nconst CardContainer = styled.ul`\n    display:flex;\n    flex-direction:column;\n\n`\n\n","import styled from 'styled-components'\nimport ProductionContainer from './ProductionContainer'\n\nfunction Home({productions}){\n    return(\n    <div>\n        <Image /> \n        <ProductionContainer productions={productions} />\n    </div>\n    )\n}\n\nexport default Home\n\nconst Image = styled.img.attrs(() => ({\n    src:'https://images.unsplash.com/photo-1518834107812-67b0b7c58434?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1335&q=80', \n  }))`\n    position: absolute;\n    z-index:-1;\n  `\n  ","import styled from \"styled-components\";\n\nexport const Form = styled.form`\ndisplay:flex;\nflex-direction:column;\nwidth: 400px;\nmargin:auto;\nfont-family:Arial;\nfont-size:30px;\ninput[type=submit]{\n  background-color:#42ddf5;\n  color: white;\n  height:40px;\n  font-family:Arial;\n  font-size:30px;\n  margin-top:10px;\n  margin-bottom:10px;\n}\n`","import React, { useState} from 'react'\nimport {Form} from '../styled/Form'\n\n\nfunction ProductionForm({addProduction}) {\n  const [formData, setFormData] = useState({\n    title:'',\n    genre:'',\n    budget:'',\n    image:'',\n    director:'',\n    description:''\n  })\n  const [errors, setErrors] = useState([])\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    setFormData({ ...formData, [name]: value })\n  }\n\n  function onSubmit(e){\n    e.preventDefault()\n    \n    fetch('/productions',{\n      method:'POST',\n      headers: {'Content-Type': 'application/json'},\n      body:JSON.stringify({...formData, ongoing:true})\n    })\n    .then(res => {\n      if(res.ok){\n        res.json().then(addProduction)\n      } else {\n        //Display errors\n        res.json().then(data => setErrors(Object.entries(data.errors).map(e => `${e[0]} ${e[1]}`)))\n      }\n    })\n  }\n    return (\n      <div className='App'>\n      {errors?errors.map(e => <div>{e}</div>):null}\n      <Form onSubmit={onSubmit}>\n        <label>Title </label>\n        <input type='text' name='title' value={formData.title} onChange={handleChange} />\n        \n        <label> Genre</label>\n        <input type='text' name='genre' value={formData.genre} onChange={handleChange} />\n      \n        <label>Budget</label>\n        <input type='number' name='budget' value={formData.budget} onChange={handleChange} />\n      \n        <label>Image</label>\n        <input type='text' name='image' value={formData.image} onChange={handleChange} />\n      \n        <label>Director</label>\n        <input type='text' name='director' value={formData.director} onChange={handleChange} />\n      \n        <label>Description</label>\n        <textarea type='text' rows='4' cols='50' name='description' value={formData.description} onChange={handleChange} />\n      \n        <input type='submit' value='Update Production' />\n      </Form>\n      {errors?errors.map(e => <h2 style={{color:'red'}}>{e.toUpperCase()}</h2>):null}\n      </div>\n    )\n  }\n  \n  export default ProductionForm\n\n","import React, { useState, useEffect} from 'react'\nimport { useParams } from 'react-router-dom'\nimport {Form} from '../styled/Form'\n\nfunction EditProductionForm({updateProduction}) {\n  const [formData, setFormData] = useState({\n    title:'',\n    genre:'',\n    budget:'',\n    image:'',\n    director:'',\n    description:''\n  })\n  const [errors, setErrors] = useState([])\n  const {id} = useParams()\n  useEffect(() => {\n    fetch(`/productions/${id}`)\n    .then(res => res.json())\n    .then(setFormData)\n  },[])\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    setFormData({ ...formData, [name]: value })\n  }\n\n\n  function onSubmit(e){\n    e.preventDefault()\n    //PATCH to `/productions/${id}`\n    fetch(`/productions/${id}`,{\n      method:'PATCH',\n      headers: {'Content-Type': 'application/json'},\n      body:JSON.stringify(formData)\n    })\n    .then(res => {\n      if(res.ok){\n        res.json().then(updateProduction)\n      } else {\n        //Display errors\n        res.json().then(data => setErrors(Object.entries(data.errors).map(e => `${e[0]} ${e[1]}`)))\n      }\n    })\n  }\n    return (\n      <div className='App'>\n      {errors?errors.map(e => <div>{e}</div>):null}\n      <Form onSubmit={onSubmit}>\n        <label>Title </label>\n        <input type='text' name='title' value={formData.title} onChange={handleChange} />\n        \n        <label> Genre</label>\n        <input type='text' name='genre' value={formData.genre} onChange={handleChange} />\n      \n        <label>Budget</label>\n        <input type='number' name='budget' value={formData.budget} onChange={handleChange} />\n      \n        <label>Image</label>\n        <input type='text' name='image' value={formData.image} onChange={handleChange} />\n      \n        <label>Director</label>\n        <input type='text' name='director' value={formData.director} onChange={handleChange} />\n      \n        <label>Description</label>\n        <textarea type='text' rows='4' cols='50' name='description' value={formData.description} onChange={handleChange} />\n      \n        <input type='submit' value='Update Production' />\n      </Form>\n      {errors?errors.map(e => <h2 style={{color:'red'}}>{e.toUpperCase()}</h2>):null}\n      </div>\n    )\n  }\n  \n  export default EditProductionForm\n","import { useState } from 'react'\nimport {Link} from 'react-router-dom'\nimport styled from 'styled-components'\nimport { GiHamburgerMenu } from 'react-icons/gi'\n\nfunction Navigation({updateUser}) {\n  const [menu, setMenu] = useState(false)\n\n  const handleLogOut = () => {\n    fetch(`/logout`, {\n      method:\"DELETE\"\n    })\n    .then(res =>{\n      if(res.ok){\n        updateUser(false)\n      }\n    })\n  }\n  \n    return (\n        <Nav> \n         <NavH1>Flatiron Theater Company</NavH1>\n         <Menu>\n           <button onClick={handleLogOut}>Log Out</button>\n           {!menu?\n           <div onClick={() => setMenu(!menu)}>\n             <GiHamburgerMenu size={30}/> \n           </div>:\n           <ul>\n            <li onClick={() => setMenu(!menu)}>x</li>\n            <li><Link to='/users/1'>User Page</Link></li>\n            <li><Link to='/login'>Login</Link></li>\n            <li><Link to='/productions/new'>New Production</Link></li>\n            <li><Link to='/'> Home</Link></li>\n           </ul>\n           }\n         </Menu>\n\n        </Nav>\n    )\n}\n\nexport default Navigation\n\n\nconst NavH1 = styled.h1`\nfont-family: 'Splash', cursive;\n`\nconst Nav = styled.div`\n  display: flex;\n  justify-content:space-between;\n  \n`;\n\nconst Menu = styled.div`\n  display: flex;\n  align-items: center;\n  a{\n    text-decoration: none;\n    color:white;\n    font-family:Arial;\n  }\n  a:hover{\n    color:pink\n  }\n  ul{\n    list-style:none;\n  }\n  \n`;\n","import  { Link, useParams, useHistory } from 'react-router-dom'\nimport {useEffect, useState} from 'react'\nimport styled from 'styled-components'\n\nfunction ProductionDetail({deleteProduction}) {\n  const [production, setProduction] = useState({})\n  const [loading, setLoading] = useState(true)\n  const [errors, setErrors] = useState(false)\n  \n  const params = useParams()\n  const history = useHistory()\n  useEffect(()=>{\n    //GET to '/productions/:id'\n    fetch(`/productions/${params.id}`)\n    .then(res => { \n      if(res.ok){\n        res.json().then(data => {\n          setProduction(data)\n          setLoading(false)\n        })\n      } else {\n        console.log('error')\n        res.json().then(data => setErrors(data.error))\n      }\n    })\n  },[])\n\n  function handleDelete(){\n    //DELETE to `/productions/${params.id}`\n    fetch(`/productions/${params.id}`,{\n      method:'DELETE',\n      headers: {'Content-Type': 'application/json'}\n    })\n    .then(res => {\n      if(res.ok){\n        deleteProduction(id)\n        history.push('/')\n      } else {\n        res.json().then(data => setErrors(Object.entries(data.errors).map(e => `${e[0]} ${e[1]}`)))\n      }\n    })\n  }\n\n  const handleBuy = () => {\n    fetch(`/tickets`,{\n      method:'POST',\n      headers: {'Content-Type': 'application/json'},\n      body:JSON.stringify({production_id:id, user_id:1, price:30.50})\n    })\n    .then(res => {\n      if(res.ok){\n        history.push('/users/1')\n      } else {\n        res.json().then(data => setErrors(Object.entries(data.errors).map(e => `${e[0]} ${e[1]}`)))\n      }\n    })\n  }\n\n  \n  \n \n  if(loading) return <h1>Loading</h1>\n  if(errors) return <h1>{errors}</h1>\n\n  const {id, title, budget, genre, image,description, cast_members} = production \n  console.log(cast_members)\n  //Place holder data, will be replaced in the assosiations lecture. \n  // const crew_members = ['Lily-Mai Harding', 'Cathy Luna', 'Tiernan Daugherty', 'Giselle Nava', 'Alister Wallis', 'Aishah Rowland', 'Keiren Bernal', 'Aqsa Parrish', 'Daanyal Laing', 'Hollie Haas']\n  return (\n      <CardDetail>\n        <h1>{title}</h1>\n          <div className='wrapper'>\n            <div>\n              <h3>Genre:</h3>\n              <p>{genre}</p>\n              <h3>Description:</h3>\n              <p>{description}</p>\n              <h2>Crew Memebers</h2>\n              <ul>\n                {cast_members.map(crew => <li>{crew.role} : {crew.name}</li>)}\n              </ul>\n            </div>\n            <img src={image}/>\n          </div>\n      <button><Link to={`/productions/${id}/edit`}>Edit Production</Link></button>\n      <button onClick={handleDelete}>Delete Production</button>\n      <button onClick={handleBuy} >Buy Ticket</button>\n      </CardDetail>\n    )\n  }\n\n  \n  export default ProductionDetail\n  const CardDetail = styled.li`\n    display:flex;\n    flex-direction:column;\n    justify-content:start;\n    font-family:Arial, sans-serif;\n    margin:5px;\n    h1{\n      font-size:60px;\n      border-bottom:solid;\n      border-color:#42ddf5;\n    }\n    .wrapper{\n      display:flex;\n      div{\n        margin:10px;\n      }\n    }\n    img{\n      width: 300px;\n    }\n    button{\n      background-color:#42ddf5;\n      color: white;\n      height:40px;\n      font-family:Arial;\n      font-size:30px;\n      margin-top:10px;\n    }\n  `","import { useEffect, useState } from 'react'\nimport {useParams} from 'react-router-dom'\nfunction UserPage(){\n    const [user, setUser] = useState()\n    const [loading, setLoading] = useState(true)\n    const [errors, setErrors] = useState(false)\n\n    const params = useParams()\n    const {id} = params\n    useEffect(()=>{\n        fetch(`/users/${id}`)\n        .then(res => {\n            if(res.ok){\n                res.json().then(user => {\n                    setUser(user)\n                    setLoading(false)\n                })\n            }else {\n                res.json().then(data => setErrors(data.error))\n            }\n        })\n       \n    },[])\n\n    if(loading) return <h1>Loading</h1>\n    if(errors) return <h1>{errors}</h1>\n    return (\n        <div>\n            <h1>{user.name}</h1>\n            <h3>Tickets</h3>\n            <ul>\n                {user.tickets.map(ticket => (\n                <li>\n                    <h2>{ticket.production.title}</h2>\n                    <p>Price: {ticket.price}</p>\n                </li>\n                ))}\n            </ul>\n        </div>\n    )\n}\n\nexport default UserPage","import React, {useState} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {Form} from '../styled/Form'\n\nfunction Login({updateUser}) {\n    const [formData, setFormData] = useState({\n        name:'',\n        email:'',\n        password:''\n    })\n    const [signup, setSignup] = useState(false)\n    const [errors, setErrors] = useState([])\n    const history = useHistory()\n\n    const {name, password} = formData\n\n    function onSubmit(e){\n        e.preventDefault()\n        const user = {\n            name,\n            password\n        }\n\n        let url = `/login`\n        if(signup) url = '/users'\n        // Logs in user\n        fetch(url,{\n          method:'POST',\n          headers:{'Content-Type': 'application/json'},\n          body:JSON.stringify(user)\n        })\n        .then(res => {\n            if(res.ok){\n                res.json().then(user => {\n                    updateUser(user)\n                    history.push(`/users/${user.id}`)\n                })\n            }else {\n                res.json().then(json => setErrors(json.errors))\n            }\n        })\n       \n    }\n\n    const handleChange = (e) => {\n        const { name, value } = e.target\n        setFormData({ ...formData, [name]: value })\n      }\n    return (\n        <> \n        <Form onSubmit={onSubmit}>\n        <label>\n          Username\n          </label>\n        <input type='text' name='name' value={name} onChange={handleChange} />\n      \n        <label>\n         Password\n         </label>\n        <input type='password' name='password' value={password} onChange={handleChange} />\n       \n        <input type='submit' value='Log in!'/>\n        <input type='submit' onClick={() => setSignup(true)} value='Sign up!'/>\n      </Form>\n      {errors? <div>{errors}</div>:null}\n        </>\n    )\n}\n\nexport default Login\n","function NotFound(){\n    return(\n        <>\n            <h1>Sorry We can't find the Page you're looking for!</h1>\n            <h1>404 Not Found</h1>\n        </>\n    )\n}\nexport default NotFound","import { Route, Switch } from 'react-router-dom'\nimport {createGlobalStyle} from 'styled-components'\nimport {useEffect, useState} from 'react'\nimport Home from './components/Home'\nimport ProductionForm from './components/ProductionForm'\nimport EditProductionForm from './components/EditProductionForm'\nimport Navigation from './components/Navigation'\nimport ProductionDetail from './components/ProductionDetail'\nimport UserPage from './components/UserPage'\nimport Login from './components/Login'\nimport NotFound from './components/NotFound'\n\nfunction App() {\n  const [productions, setProductions] = useState([])\n  const [errors, setErrors] = useState(false)\n  const [currentUser, setCurrentUser] = useState(false)\n\n\n  useEffect(() => {\n    fetch(\"/authorized_user\")\n    .then((res) => {\n      if (res.ok) {\n        res.json()\n        .then((user) => {\n          setCurrentUser(user);\n          fetchProductions()\n        });\n      }\n    })\n  },[])\n\n  const fetchProductions = () => {\n    fetch('/productions')\n    .then(res => {\n      if(res.ok){\n        res.json().then(setProductions)\n      }else {\n        res.json().then(data => setErrors(data.error))\n      }\n    })\n  }\n\n  const addProduction = (production) => setProductions(current => [...current,production])\n\n  const updateProduction = (updatedProduction) => setProductions(current => {\n    return current.map(production => {\n     if(production.id === updatedProduction.id){\n       return updatedProduction\n     } else {\n       return production\n     }\n    })\n  })\n\n  const deleteProduction = (id) => setProductions(current => current.filter(p => p.id !== id)) \n\n  const updateUser = (user) => setCurrentUser(user)\n\n  \n  if(errors) return <h1>{errors}</h1>\n\n\n  return (\n    <>\n    <GlobalStyle />\n    <Navigation updateUser={updateUser}/>\n    { !currentUser? <Login error={'please login'} updateUser={updateUser} /> :\n      <Switch>\n      <Route  path='/productions/new'>\n        <ProductionForm addProduction={addProduction}/>\n      </Route>\n      <Route  path='/productions/:id/edit'>\n        <EditProductionForm updateProduction={updateProduction}/>\n      </Route>\n     \n      <Route path='/productions/:id'>\n          <ProductionDetail deleteProduction={deleteProduction}/>\n      </Route>\n\n      <Route path='/users/:id'>\n        <UserPage updateUser={updateUser}/>\n      </Route>\n\n      <Route path='/login'>\n        <Login updateUser={updateUser}/>\n      </Route>\n\n    \n      <Route exact path='/'>\n        <Home productions={productions}/>\n      </Route>\n\n      <Route>\n        <NotFound />\n      </Route>\n      \n      </Switch>\n}\n    </>\n  )\n}\n\nexport default App\n\nconst GlobalStyle = createGlobalStyle`\n    body{\n      background-color: black; \n      color:white;\n    }\n    `\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}